{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/NoteForm/NoteForm.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"NoteForm-module__XA_SlW__actions\",\n  \"cancelButton\": \"NoteForm-module__XA_SlW__cancelButton\",\n  \"error\": \"NoteForm-module__XA_SlW__error\",\n  \"form\": \"NoteForm-module__XA_SlW__form\",\n  \"formGroup\": \"NoteForm-module__XA_SlW__formGroup\",\n  \"input\": \"NoteForm-module__XA_SlW__input\",\n  \"select\": \"NoteForm-module__XA_SlW__select\",\n  \"submitButton\": \"NoteForm-module__XA_SlW__submitButton\",\n  \"textarea\": \"NoteForm-module__XA_SlW__textarea\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/08-zustand/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport type { Note, NewNote } from \"../types/note\";\n//import { error } from \"console\";\n\nconst myKey = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\nexport interface NoteListData {\n  notes: Note[];\n  totalPages: number;\n}\n\nexport const fetchNotes = async (\n  search: string,\n  page: number,\n  tag?: string\n): Promise<NoteListData> => {\n  try {\n    const res = await axios.get<NoteListData>(\n      `https://notehub-public.goit.study/api/notes`,\n      {\n        params: {\n          search,\n          page,\n          perPage: 12,\n          sortBy: \"created\",\n          tag\n        },\n        \n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n        \n      }\n    );\n    \n    const result = res.data;\n    console.log(result);\n    return result;\n  } catch (error) {\n    console.log(error);\n    return { notes: [], totalPages: 0 };\n  }\n};\n\nexport const createNote = async (values: NewNote): Promise<Note | null> => {\n  try {\n    const res = await axios.post<Note>(\n      `https://notehub-public.goit.study/api/notes`,\n      values,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    console.log(res.data);\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nexport const deleteNote = async (noteId: string): Promise<Note | null> => {\n  try {\n    const res = await axios.delete<Note>(\n      `https://notehub-public.goit.study/api/notes/${noteId}`,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nexport const fetchNoteById = async (id: string): Promise<Note | null> => {\n  try {\n    const res = await axios.get<Note>(\n      `https://notehub-public.goit.study/api/notes/${id}`,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    return res.data\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEA,kCAAkC;AAElC,MAAM;AAMC,MAAM,aAAa,OACxB,QACA,MACA;IAEA,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CACzB,CAAC,2CAA2C,CAAC,EAC7C;YACE,QAAQ;gBACN;gBACA;gBACA,SAAS;gBACT,QAAQ;gBACR;YACF;YAEA,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QAEF;QAGF,MAAM,SAAS,IAAI,IAAI;QACvB,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;YAAE,OAAO,EAAE;YAAE,YAAY;QAAE;IACpC;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,IAAI,CAC1B,CAAC,2CAA2C,CAAC,EAC7C,QACA;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,QAAQ,GAAG,CAAC,IAAI,IAAI;QACpB,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,MAAM,CAC5B,CAAC,4CAA4C,EAAE,QAAQ,EACvD;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF;AAEO,MAAM,gBAAgB,OAAO;IAClC,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CACzB,CAAC,4CAA4C,EAAE,IAAI,EACnD;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/08-zustand/components/NoteForm/NoteForm.tsx"],"sourcesContent":["\"use client\";\nimport css from \"./NoteForm.module.css\";\n\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { createNote } from \"@/lib/api\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\n\ninterface FormValues {\n  title: string;\n  content: string;\n  tag: string;\n}\nconst initialValues: FormValues = {\n  title: \"\",\n  content: \"\",\n  tag: \"Todo\",\n};\n\nconst NoteForm = () => {\n  const queryClient = useQueryClient();\n  const { mutate } = useMutation({\n    mutationFn: createNote,\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [\"notes\"],\n      });\n    },\n  });\n  const [form, setForm] = useState<FormValues>(initialValues);\n  const router = useRouter();\n\n  // const handleSubmit = (\n  //   values: FormValues,\n  //   actions: FormikHelpers<FormValues>\n  // ) => {\n  //   console.log(values);\n  //   mutate(values);\n  //   actions.resetForm();\n  // };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    if (!form.title || form.title.length < 3) {\n      return;\n    }\n\n   await mutate(form);\n    queryClient.invalidateQueries({ queryKey: [\"notes\"] });\n    setForm(initialValues);\n    console.log(form);\n\n    router.push(\"/notes\");\n  };\n  const handleCancel = () => {\n    router.push(\"/notes\");\n  };\n\n  const handleChange = (\n    e: React.ChangeEvent<\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n    >\n  ) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <div className={css.formGroup}>\n        <label htmlFor=\"title\">Title</label>\n        <input\n          id=\"title\"\n          type=\"text\"\n          name=\"title\"\n          className={css.input}\n          onChange={handleChange}\n          value={form.title}  \n        />\n      </div>\n\n      <div className={css.formGroup}>\n        <label htmlFor=\"content\">Content</label>\n        <textarea\n          id=\"content\"\n          name=\"content\"\n          rows={8}\n          className={css.textarea}\n          onChange={handleChange}\n          value={form.content}  \n        />\n      </div>\n\n      <div className={css.formGroup}>\n        <label htmlFor=\"tag\">Tag</label>\n        <select\n          id=\"tag\"\n          name=\"tag\"\n          className={css.select}\n          onChange={handleChange}\n          value={form.tag}  \n        >\n          <option value=\"Todo\">Todo</option>\n          <option value=\"Work\">Work</option>\n          <option value=\"Personal\">Personal</option>\n          <option value=\"Meeting\">Meeting</option>\n          <option value=\"Shopping\">Shopping</option>\n        </select>\n      </div>\n\n      <div className={css.actions}>\n        <button\n          type=\"button\"\n          className={css.cancelButton}\n          onClick={handleCancel}\n        >\n          Cancel\n        </button>\n        <button type=\"submit\" className={css.submitButton} disabled={false}>\n          Create note\n        </button>\n      </div>\n    </form>\n  );\n};\nexport default NoteForm;\n"],"names":[],"mappings":";;;;;AACA;AAEA;AAAA;AACA;AACA;AACA;AANA;;;;;;;AAaA,MAAM,gBAA4B;IAChC,OAAO;IACP,SAAS;IACT,KAAK;AACP;AAEA,MAAM,WAAW;IACf,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,6LAAW,EAAC;QAC7B,YAAY,wHAAU;QACtB,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAC5B,UAAU;oBAAC;iBAAQ;YACrB;QACF;IACF;IACA,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAa;IAC7C,MAAM,SAAS,IAAA,+IAAS;IAExB,yBAAyB;IACzB,wBAAwB;IACxB,uCAAuC;IACvC,SAAS;IACT,yBAAyB;IACzB,oBAAoB;IACpB,yBAAyB;IACzB,KAAK;IAEL,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,KAAK,KAAK,IAAI,KAAK,KAAK,CAAC,MAAM,GAAG,GAAG;YACxC;QACF;QAED,MAAM,OAAO;QACZ,YAAY,iBAAiB,CAAC;YAAE,UAAU;gBAAC;aAAQ;QAAC;QACpD,QAAQ;QACR,QAAQ,GAAG,CAAC;QAEZ,OAAO,IAAI,CAAC;IACd;IACA,MAAM,eAAe;QACnB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,eAAe,CACnB;QAIA,QAAQ;YAAE,GAAG,IAAI;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACrD;IACA,qBACE,8OAAC;QAAK,WAAW,yJAAG,CAAC,IAAI;QAAE,UAAU;;0BACnC,8OAAC;gBAAI,WAAW,yJAAG,CAAC,SAAS;;kCAC3B,8OAAC;wBAAM,SAAQ;kCAAQ;;;;;;kCACvB,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,MAAK;wBACL,WAAW,yJAAG,CAAC,KAAK;wBACpB,UAAU;wBACV,OAAO,KAAK,KAAK;;;;;;;;;;;;0BAIrB,8OAAC;gBAAI,WAAW,yJAAG,CAAC,SAAS;;kCAC3B,8OAAC;wBAAM,SAAQ;kCAAU;;;;;;kCACzB,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,MAAM;wBACN,WAAW,yJAAG,CAAC,QAAQ;wBACvB,UAAU;wBACV,OAAO,KAAK,OAAO;;;;;;;;;;;;0BAIvB,8OAAC;gBAAI,WAAW,yJAAG,CAAC,SAAS;;kCAC3B,8OAAC;wBAAM,SAAQ;kCAAM;;;;;;kCACrB,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,WAAW,yJAAG,CAAC,MAAM;wBACrB,UAAU;wBACV,OAAO,KAAK,GAAG;;0CAEf,8OAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,8OAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,8OAAC;gCAAO,OAAM;0CAAW;;;;;;0CACzB,8OAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,8OAAC;gCAAO,OAAM;0CAAW;;;;;;;;;;;;;;;;;;0BAI7B,8OAAC;gBAAI,WAAW,yJAAG,CAAC,OAAO;;kCACzB,8OAAC;wBACC,MAAK;wBACL,WAAW,yJAAG,CAAC,YAAY;wBAC3B,SAAS;kCACV;;;;;;kCAGD,8OAAC;wBAAO,MAAK;wBAAS,WAAW,yJAAG,CAAC,YAAY;wBAAE,UAAU;kCAAO;;;;;;;;;;;;;;;;;;AAM5E;uCACe","debugId":null}}]
}