{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/08-zustand/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\nimport type { Note, NewNote } from \"../types/note\";\n//import { error } from \"console\";\n\nconst myKey = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\nexport interface NoteListData {\n  notes: Note[];\n  totalPages: number;\n}\n\nexport const fetchNotes = async (\n  search: string,\n  page: number,\n  tag?: string\n): Promise<NoteListData> => {\n  try {\n    const res = await axios.get<NoteListData>(\n      `https://notehub-public.goit.study/api/notes`,\n      {\n        params: {\n          search,\n          page,\n          perPage: 12,\n          sortBy: \"created\",\n          tag\n        },\n        \n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n        \n      }\n    );\n    \n    const result = res.data;\n    console.log(result);\n    return result;\n  } catch (error) {\n    console.log(error);\n    return { notes: [], totalPages: 0 };\n  }\n};\n\nexport const createNote = async (values: NewNote): Promise<Note | null> => {\n  try {\n    const res = await axios.post<Note>(\n      `https://notehub-public.goit.study/api/notes`,\n      values,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    console.log(res.data);\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nexport const deleteNote = async (noteId: string): Promise<Note | null> => {\n  try {\n    const res = await axios.delete<Note>(\n      `https://notehub-public.goit.study/api/notes/${noteId}`,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nexport const fetchNoteById = async (id: string): Promise<Note | null> => {\n  try {\n    const res = await axios.get<Note>(\n      `https://notehub-public.goit.study/api/notes/${id}`,\n      {\n        headers: {\n          Authorization: `Bearer ${myKey}`,\n        },\n      }\n    );\n    return res.data\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEA,kCAAkC;AAElC,MAAM;AAMC,MAAM,aAAa,OACxB,QACA,MACA;IAEA,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CACzB,CAAC,2CAA2C,CAAC,EAC7C;YACE,QAAQ;gBACN;gBACA;gBACA,SAAS;gBACT,QAAQ;gBACR;YACF;YAEA,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QAEF;QAGF,MAAM,SAAS,IAAI,IAAI;QACvB,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;YAAE,OAAO,EAAE;YAAE,YAAY;QAAE;IACpC;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,IAAI,CAC1B,CAAC,2CAA2C,CAAC,EAC7C,QACA;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,QAAQ,GAAG,CAAC,IAAI,IAAI;QACpB,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,MAAM,CAC5B,CAAC,4CAA4C,EAAE,QAAQ,EACvD;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF;AAEO,MAAM,gBAAgB,OAAO;IAClC,IAAI;QACF,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CACzB,CAAC,4CAA4C,EAAE,IAAI,EACnD;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAEF,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/NoteForm/NoteForm.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"NoteForm-module__XA_SlW__actions\",\n  \"cancelButton\": \"NoteForm-module__XA_SlW__cancelButton\",\n  \"error\": \"NoteForm-module__XA_SlW__error\",\n  \"form\": \"NoteForm-module__XA_SlW__form\",\n  \"formGroup\": \"NoteForm-module__XA_SlW__formGroup\",\n  \"input\": \"NoteForm-module__XA_SlW__input\",\n  \"select\": \"NoteForm-module__XA_SlW__select\",\n  \"submitButton\": \"NoteForm-module__XA_SlW__submitButton\",\n  \"textarea\": \"NoteForm-module__XA_SlW__textarea\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/08-zustand/lib/store/noteStore.ts"],"sourcesContent":["import { NewNote } from \"@/types/note\";\nimport { create } from \"zustand\";\n\ntype NoteDraftStore = {\n  draft: NewNote;\n  setDraft: (note: NewNote) => void;\n  clearDraft: () => void;\n};\nconst initialDraft: NewNote = {\n  title: \"\",\n  content: \"\",\n  tag: \"Todo\",\n};\n\nconst useNoteDraftStore = create<NoteDraftStore>()((set) => ({\n  draft: initialDraft,\n  setDraft: (note) => set(() => ({ draft: note })),\n  clearDraft: () => set(() => ({ draft: initialDraft })),\n}));\n\nexport default useNoteDraftStore;\n"],"names":[],"mappings":";;;;AACA;;AAOA,MAAM,eAAwB;IAC5B,OAAO;IACP,SAAS;IACT,KAAK;AACP;AAEA,MAAM,oBAAoB,IAAA,kJAAM,IAAmB,CAAC,MAAQ,CAAC;QAC3D,OAAO;QACP,UAAU,CAAC,OAAS,IAAI,IAAM,CAAC;oBAAE,OAAO;gBAAK,CAAC;QAC9C,YAAY,IAAM,IAAI,IAAM,CAAC;oBAAE,OAAO;gBAAa,CAAC;IACtD,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/08-zustand/components/NoteForm/NoteForm.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useMutation } from \"@tanstack/react-query\";\nimport { createNote } from \"@/lib/api\";\nimport { useRouter } from \"next/navigation\";\nimport css from \"./NoteForm.module.css\";\nimport useNoteDraftStore from \"@/lib/store/noteStore\";\nimport { NewNote} from \"@/types/note\";\n\ntype Tag = \"Todo\" | \"Work\" | \"Personal\";\nexport default function NoteForm() {\n  const router = useRouter();\n  const { draft, setDraft, clearDraft } = useNoteDraftStore();\n\n  const { mutate, isPending } = useMutation({\n    mutationFn: createNote,\n    onSuccess: () => {\n      clearDraft();\n      router.back();\n    },\n  });\n\n  const handleChange = (\n    event: React.ChangeEvent<\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n    >\n  ) => {\n    setDraft({\n      ...draft,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = (formData: FormData) => {\n    const data: NewNote = {\n      title: formData.get(\"title\") as string,\n      content: formData.get(\"content\") as string,\n      tag: formData.get(\"tag\") as Tag,\n    };\n\n    mutate(data);\n  };\n\n  const handleClose = () => router.back();\n\n  return (\n    <form className={css.form} action={handleSubmit}>\n      <div className={css.formGroup}>\n        <label htmlFor=\"title\">Title</label>\n        <input\n          id=\"title\"\n          type=\"text\"\n          name=\"title\"\n          defaultValue={draft?.title}\n          onChange={handleChange}\n          className={css.input}\n          required\n        />\n      </div>\n\n      <div className={css.formGroup}>\n        <label htmlFor=\"content\">Content</label>\n        <textarea\n          id=\"content\"\n          rows={8}\n          name=\"content\"\n          defaultValue={draft?.content}\n          onChange={handleChange}\n          className={css.textarea}\n        />\n      </div>\n\n      <div className={css.formGroup}>\n        <label htmlFor=\"tag\">Tag</label>\n        <select\n          id=\"tag\"\n          name=\"tag\"\n          defaultValue={draft?.tag || \"Todo\"}\n          onChange={handleChange}\n          className={css.select}\n        >\n          <option value=\"Todo\">Todo</option>\n          <option value=\"Work\">Work</option>\n          <option value=\"Personal\">Personal</option>\n          <option value=\"Meeting\">Meeting</option>\n          <option value=\"Shopping\">Shopping</option>\n        </select>\n      </div>\n\n      <div className={css.actions}>\n        <button\n          type=\"button\"\n          className={css.cancelButton}\n          onClick={handleClose}\n        >\n          Cancel\n        </button>\n        <button type=\"submit\" className={css.submitButton} disabled={isPending}>\n          Create note\n        </button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAUe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,IAAA,oIAAiB;IAEzD,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,6LAAW,EAAC;QACxC,YAAY,wHAAU;QACtB,WAAW;YACT;YACA,OAAO,IAAI;QACb;IACF;IAEA,MAAM,eAAe,CACnB;QAIA,SAAS;YACP,GAAG,KAAK;YACR,CAAC,MAAM,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,MAAM,CAAC,KAAK;QACzC;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,OAAgB;YACpB,OAAO,SAAS,GAAG,CAAC;YACpB,SAAS,SAAS,GAAG,CAAC;YACtB,KAAK,SAAS,GAAG,CAAC;QACpB;QAEA,OAAO;IACT;IAEA,MAAM,cAAc,IAAM,OAAO,IAAI;IAErC,qBACE,8OAAC;QAAK,WAAW,yJAAG,CAAC,IAAI;QAAE,QAAQ;;0BACjC,8OAAC;gBAAI,WAAW,yJAAG,CAAC,SAAS;;kCAC3B,8OAAC;wBAAM,SAAQ;kCAAQ;;;;;;kCACvB,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,MAAK;wBACL,cAAc,OAAO;wBACrB,UAAU;wBACV,WAAW,yJAAG,CAAC,KAAK;wBACpB,QAAQ;;;;;;;;;;;;0BAIZ,8OAAC;gBAAI,WAAW,yJAAG,CAAC,SAAS;;kCAC3B,8OAAC;wBAAM,SAAQ;kCAAU;;;;;;kCACzB,8OAAC;wBACC,IAAG;wBACH,MAAM;wBACN,MAAK;wBACL,cAAc,OAAO;wBACrB,UAAU;wBACV,WAAW,yJAAG,CAAC,QAAQ;;;;;;;;;;;;0BAI3B,8OAAC;gBAAI,WAAW,yJAAG,CAAC,SAAS;;kCAC3B,8OAAC;wBAAM,SAAQ;kCAAM;;;;;;kCACrB,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,cAAc,OAAO,OAAO;wBAC5B,UAAU;wBACV,WAAW,yJAAG,CAAC,MAAM;;0CAErB,8OAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,8OAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,8OAAC;gCAAO,OAAM;0CAAW;;;;;;0CACzB,8OAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,8OAAC;gCAAO,OAAM;0CAAW;;;;;;;;;;;;;;;;;;0BAI7B,8OAAC;gBAAI,WAAW,yJAAG,CAAC,OAAO;;kCACzB,8OAAC;wBACC,MAAK;wBACL,WAAW,yJAAG,CAAC,YAAY;wBAC3B,SAAS;kCACV;;;;;;kCAGD,8OAAC;wBAAO,MAAK;wBAAS,WAAW,yJAAG,CAAC,YAAY;wBAAE,UAAU;kCAAW;;;;;;;;;;;;;;;;;;AAMhF","debugId":null}}]
}